{"ast":null,"code":"var _jsxFileName = \"/Users/loki/feature1/hbms-rebuilt/src/components/auth/Register.js\";\nimport React, { Component } from 'react'; // define the type transferred by reduce\n\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { registerUser } from '../../actions/authActions';\nimport { withRouter } from 'react-router-dom';\nimport { TextFieldGroup } from '../../common/TextFieldGroup'; //import classnames from 'classnames'\n\nexport class Register extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password2: this.state.password2\n      };\n      this.props.registerUser(newUser, this.props.history);\n    };\n\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      password2: \"\",\n      errors: {}\n    };\n  }\n\n  //render page\n  componentDidMount() {\n    //if auth, jump to control page\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push('/dashboard');\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8 m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-4 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"lead text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }\n    }, \"Create New Account\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextFieldGroup, {\n      placeholder: \"username\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      errpr: errors.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextFieldGroup, {\n      type: \"email\",\n      placeholder: \"email address\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      error: errors.email,\n      info: \"We use 'gravatar' global avatars, if need avator showed, please use the email registered in gravatar \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextFieldGroup, {\n      type: \"password\",\n      placeholder: \"pwd\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onChange,\n      error: errors.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextFieldGroup, {\n      type: \"password\",\n      placeholder: \"cf pwd\",\n      name: \"password2\",\n      value: this.state.password2,\n      onChange: this.onChange,\n      error: errors.password2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-info btn-block mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n} // Get the property value of initalState which have defined in actions in reduce\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n}); //dispatch function\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    registerUser: (params, history) => {\n      dispatch(registerUser(params, history));\n    }\n  };\n}; //Define the type transferred by reduce\n\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Register));","map":{"version":3,"sources":["/Users/loki/feature1/hbms-rebuilt/src/components/auth/Register.js"],"names":["React","Component","PropTypes","connect","registerUser","withRouter","TextFieldGroup","Register","constructor","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","newUser","state","email","password","password2","history","errors","componentDidMount","auth","isAuthenticated","push","UNSAFE_componentWillReceiveProps","nextProps","render","mapStateToProps","mapDispatchToProps","dispatch","params","propTypes","func","isRequired","object"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// define the type transferred by reduce\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { registerUser } from '../../actions/authActions';\nimport { withRouter } from 'react-router-dom';\nimport { TextFieldGroup } from '../../common/TextFieldGroup';\n\n//import classnames from 'classnames'\nexport class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      password2: \"\",\n      errors: {}\n    }\n  }\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n  onSubmit = (e) => {\n    e.preventDefault()\n    const newUser = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2,\n    }\n    this.props.registerUser(newUser, this.props.history)\n  }\n  //render page\n  componentDidMount() {\n    //if auth, jump to control page\n    if(this.props.auth.isAuthenticated) {\n      this.props.history.push('/dashboard')\n    }\n  }\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if(nextProps.errors) {\n      this.setState({ errors: nextProps.errors })\n    }\n  }\n  render() {\n    const {errors } = this.state;\n    return(\n      <div className=\"register\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-8 m-auto\">\n              <h1 className=\"display-4 text-center\">Register</h1>\n              <p className=\"lead text-center\">Create New Account</p>\n              <form onSubmit={this.onSubmit}>\n                <TextFieldGroup\n                  placeholder=\"username\"\n                  name=\"name\"\n                  value={this.state.name}\n                  onChange={this.onChange}\n                  errpr={errors.name}\n                />\n                <TextFieldGroup\n                  type=\"email\"\n                  placeholder=\"email address\"\n                  name=\"email\"\n                  value={this.state.email}\n                  onChange={this.onChange}\n                  error={errors.email}\n                  info=\"We use 'gravatar' global avatars, if need avator showed, please use the email registered in gravatar \"\n                />\n                <TextFieldGroup\n                  type=\"password\"\n                  placeholder=\"pwd\"\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={this.onChange}\n                  error={errors.password}\n                />\n                <TextFieldGroup\n                  type=\"password\"\n                  placeholder=\"cf pwd\"\n                  name=\"password2\"\n                  value={this.state.password2}\n                  onChange={this.onChange}\n                  error={errors.password2}\n                />\n                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n// Get the property value of initalState which have defined in actions in reduce\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  errors: state.errors\n})\n//dispatch function\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    registerUser: (params, history) => {\n      dispatch(registerUser(params,history))\n    }\n  }\n}\n//Define the type transferred by reduce\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Register))"]},"metadata":{},"sourceType":"module"}